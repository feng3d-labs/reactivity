<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@feng3d/reactivity</title><meta name="description" content="Documentation for @feng3d/reactivity"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@feng3d/reactivity</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@feng3d/reactivity</h1></div><div class="tsd-panel tsd-typography"><h1 id="feng3dreactivity" class="tsd-anchor-link">@feng3d/reactivity<a href="#feng3dreactivity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>feng3d的响应式库，使用方式以及API与@vue/reactivity基本保持一致。</p>
<p>源码：<a href="https://gitee.com/feng3d/reactivity">https://gitee.com/feng3d/reactivity</a></p>
<p>文档：<a href="https://feng3d.com/reactivity">https://feng3d.com/reactivity</a></p>
<h2 id="网站" class="tsd-anchor-link">网站<a href="#网站" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="https://feng3d.com/reactivity">https://feng3d.com/reactivity</a></p>
<h2 id="安装" class="tsd-anchor-link">安装<a href="#安装" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">feng3d</span><span class="hl-1">/</span><span class="hl-0">reactivity</span>
</code><button>Copy</button></pre>

<h2 id="快速开始" class="tsd-anchor-link">快速开始<a href="#快速开始" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">ref</span><span class="hl-1">, </span><span class="hl-0">computed</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@feng3d/reactivity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">a</span><span class="hl-1"> = </span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">b</span><span class="hl-1"> = </span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">c</span><span class="hl-1"> = </span><span class="hl-6">computed</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">a</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> + </span><span class="hl-0">b</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">);</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-8">// 3</span><br/><span class="hl-0">a</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-7">3</span><span class="hl-1">;</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">c</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-8">// 5</span>
</code><button type="button">Copy</button></pre>

<h2 id="缘由" class="tsd-anchor-link">缘由<a href="#缘由" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>在feng3d引擎中使用<code>@vue/reactivity</code>代替<code>@feng3d/watcher</code>来维护数据驱动功能时发现性能严重下降。</p>
<p>为了解决这个问题，我重新实现了一个响应式库，并且在性能上进行了优化。</p>
<h3 id="问题示例" class="tsd-anchor-link">问题示例<a href="#问题示例" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>示例： <a href="https://feng3d.com/reactivity/#%E5%A4%8D%E6%9D%82%E6%83%85%E5%86%B5%E5%8F%96%E5%80%BC">https://feng3d.com/reactivity/#复杂情况取值</a></p>
<table>
<thead>
<tr>
<th>运行库</th>
<th>性能(ms)</th>
<th>速度(x)</th>
</tr>
</thead>
<tbody>
<tr>
<td>@feng3d/reactivity</td>
<td>2.8</td>
<td>286</td>
</tr>
<tr>
<td>@vue/reactivity</td>
<td>801</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3 id="测试代码" class="tsd-anchor-link">测试代码<a href="#测试代码" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="ts"><span class="hl-6">复杂情况取值</span><span class="hl-1">(</span><span class="hl-0">ref</span><span class="hl-1">, </span><span class="hl-0">computed</span><span class="hl-1">, </span><span class="hl-7">10000</span><span class="hl-1">);</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">复杂情况取值</span><span class="hl-1">(</span><span class="hl-6">ref</span><span class="hl-1">: &lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;(</span><span class="hl-0">value</span><span class="hl-1">?: </span><span class="hl-9">T</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> { </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-9">T</span><span class="hl-1"> }, </span><span class="hl-6">computed</span><span class="hl-1">: &lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;(</span><span class="hl-6">func</span><span class="hl-1">: (</span><span class="hl-0">oldValue</span><span class="hl-1">?: </span><span class="hl-9">T</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-9">T</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> { </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-9">T</span><span class="hl-1"> }, </span><span class="hl-0">count</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">)</span><br/><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1"> = { </span><span class="hl-0">time:</span><span class="hl-1"> </span><span class="hl-4">undefined</span><span class="hl-1">, </span><span class="hl-0">values:</span><span class="hl-1"> [] };</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">b</span><span class="hl-1"> = </span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">递归</span><span class="hl-1">(</span><span class="hl-0">depth</span><span class="hl-1"> = </span><span class="hl-7">10</span><span class="hl-1">)</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-2">if</span><span class="hl-1"> (</span><span class="hl-0">depth</span><span class="hl-1"> &lt;= </span><span class="hl-7">0</span><span class="hl-1">) </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-6">computed</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">b</span><span class="hl-1">.</span><span class="hl-0">value</span><br/><span class="hl-1">        }).</span><span class="hl-0">value</span><span class="hl-1">;</span><br/><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-6">computed</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">        {</span><br/><span class="hl-1">            </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-6">递归</span><span class="hl-1">(</span><span class="hl-0">depth</span><span class="hl-1"> - </span><span class="hl-7">1</span><span class="hl-1">) + </span><span class="hl-6">递归</span><span class="hl-1">(</span><span class="hl-0">depth</span><span class="hl-1"> - </span><span class="hl-7">2</span><span class="hl-1">);</span><br/><span class="hl-1">        }).</span><span class="hl-0">value</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">cb</span><span class="hl-1"> = </span><span class="hl-6">computed</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-6">递归</span><span class="hl-1">(</span><span class="hl-7">16</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-0">b</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">++;</span><br/><span class="hl-1">    </span><span class="hl-0">cb</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">start</span><span class="hl-1"> = </span><span class="hl-0">performance</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">for</span><span class="hl-1"> (</span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">; </span><span class="hl-0">i</span><span class="hl-1"> &lt; </span><span class="hl-0">count</span><span class="hl-1">; </span><span class="hl-0">i</span><span class="hl-1">++)</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">).</span><span class="hl-0">value</span><span class="hl-1">++; </span><span class="hl-8">// 添加此行代码将会导致 @vue/reactivity 版本的性能下降，而 @feng3d/reactivity 版本的性能保持不变</span><br/><br/><span class="hl-1">        </span><span class="hl-0">cb</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">result</span><span class="hl-1">.</span><span class="hl-0">time</span><span class="hl-1"> = </span><span class="hl-0">performance</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">() - </span><span class="hl-0">start</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">result</span><span class="hl-1">.</span><span class="hl-0">values</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">cb</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">result</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="分析" class="tsd-anchor-link">分析<a href="#分析" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>@feng3d/reactivity自下而上的使用脏标记进行维护状态，当发生变化时只会冒泡一次到父节点，全局有变化时（ref(1).value++ 标记变化）并不会触发重新计算。
@vue/reactivity自上而下的使用版本号进行维护状态，当全局有变化时（ref(1).value++ 标记变化）每次取值时都会遍历整个树的子节点比对版本号判断是否需要重新计算。</p>
<h2 id="性能情况" class="tsd-anchor-link">性能情况<a href="#性能情况" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="使用不同方式维护子节点" class="tsd-anchor-link">使用不同方式维护子节点<a href="#使用不同方式维护子节点" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>// 修改第一个元素 <code>arr[0].value++;</code></p>
<table>
<thead>
<tr>
<th>方式</th>
<th>性能(ms)</th>
<th>速度(x)</th>
<th>隐患</th>
</tr>
</thead>
<tbody>
<tr>
<td>失效子节点字典</td>
<td>126</td>
<td>8.8</td>
<td>当节点失效时无法完全清除子节点，并且无法保障检查节点的顺序，导致触发过时的依赖性能或许更差，但一般情况性能最佳。</td>
</tr>
<tr>
<td>全量子节点链表</td>
<td>679</td>
<td>1.6</td>
<td>无</td>
</tr>
<tr>
<td>全量子节点字典</td>
<td>1110</td>
<td>1</td>
<td>无</td>
</tr>
<tr>
<td>@vue/reactivity</td>
<td>216</td>
<td>5.1</td>
<td>无</td>
</tr>
</tbody>
</table>
<p>// 修改最后一个元素 <code>arr[9999].value++</code></p>
<table>
<thead>
<tr>
<th>方式</th>
<th>性能(ms)</th>
<th>速度(x)</th>
<th>隐患</th>
</tr>
</thead>
<tbody>
<tr>
<td>失效子节点字典</td>
<td>125</td>
<td>9.68</td>
<td>当节点失效时无法完全清除子节点，并且无法保障检查节点的顺序，导致触发过时的依赖性能或许更差，但一般情况性能最佳。</td>
</tr>
<tr>
<td>全量子节点链表</td>
<td>730</td>
<td>1.65</td>
<td>无</td>
</tr>
<tr>
<td>全量子节点字典</td>
<td>1210</td>
<td>1</td>
<td>无</td>
</tr>
<tr>
<td>@vue/reactivity</td>
<td>253</td>
<td>4.78</td>
<td>无</td>
</tr>
</tbody>
</table>
<pre><code class="ts"><span class="hl-2">import</span><span class="hl-1"> { </span><span class="hl-0">computed</span><span class="hl-1">, </span><span class="hl-0">ref</span><span class="hl-1"> } </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@feng3d/reactivity&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">数组取值</span><span class="hl-1">(</span><span class="hl-0">ref</span><span class="hl-1">, </span><span class="hl-0">computed</span><span class="hl-1">, </span><span class="hl-7">1000</span><span class="hl-1">)</span><br/><br/><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">数组取值</span><span class="hl-1">(</span><span class="hl-6">ref</span><span class="hl-1">: &lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;(</span><span class="hl-0">value</span><span class="hl-1">?: </span><span class="hl-9">T</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> { </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-9">T</span><span class="hl-1"> }, </span><span class="hl-6">computed</span><span class="hl-1">: &lt;</span><span class="hl-9">T</span><span class="hl-1">&gt;(</span><span class="hl-6">func</span><span class="hl-1">: (</span><span class="hl-0">oldValue</span><span class="hl-1">?: </span><span class="hl-9">T</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-9">T</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> { </span><span class="hl-4">readonly</span><span class="hl-1"> </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-9">T</span><span class="hl-1"> },</span><span class="hl-0">count</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">)</span><br/><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">result</span><span class="hl-1"> = { </span><span class="hl-0">time:</span><span class="hl-1"> </span><span class="hl-4">undefined</span><span class="hl-1">, </span><span class="hl-0">values:</span><span class="hl-1"> [] };</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">arr</span><span class="hl-1">:{</span><br/><span class="hl-1">        </span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">;</span><br/><span class="hl-1">    }[] = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Array</span><span class="hl-1">(</span><span class="hl-7">10000</span><span class="hl-1">).</span><span class="hl-6">fill</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">).</span><span class="hl-6">map</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">ref</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">));</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">cb</span><span class="hl-1"> = </span><span class="hl-6">computed</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">arr</span><span class="hl-1">.</span><span class="hl-6">reduce</span><span class="hl-1">((</span><span class="hl-0">prev</span><span class="hl-1">, </span><span class="hl-0">curr</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">prev</span><span class="hl-1"> + </span><span class="hl-0">curr</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">start</span><span class="hl-1"> = </span><span class="hl-0">performance</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">for</span><span class="hl-1"> (</span><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">; </span><span class="hl-0">i</span><span class="hl-1"> &lt; </span><span class="hl-0">count</span><span class="hl-1">; </span><span class="hl-0">i</span><span class="hl-1">++)</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-8">// arr[0].value++; // 修改第一个元素</span><br/><span class="hl-1">        </span><span class="hl-0">arr</span><span class="hl-1">[</span><span class="hl-7">9999</span><span class="hl-1">].</span><span class="hl-0">value</span><span class="hl-1">++; </span><span class="hl-8">// 修改最后一个元素</span><br/><span class="hl-1">        </span><span class="hl-0">cb</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">result</span><span class="hl-1">.</span><span class="hl-0">time</span><span class="hl-1"> = </span><span class="hl-0">performance</span><span class="hl-1">.</span><span class="hl-6">now</span><span class="hl-1">() - </span><span class="hl-0">start</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-0">result</span><span class="hl-1">.</span><span class="hl-0">values</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">(</span><span class="hl-0">cb</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">result</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/>
</code><button type="button">Copy</button></pre>

<h2 id="为了库的简单易用性不支持以下内容" class="tsd-anchor-link">为了库的简单易用性不支持以下内容<a href="#为了库的简单易用性不支持以下内容" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>markRaw</li>
<li>shallowRef</li>
<li>shallowReactive</li>
<li>shallowReadonly</li>
<li>readonly</li>
<li>computed 中 setter</li>
<li>__v_skip</li>
</ul>
<h2 id="扩展" class="tsd-anchor-link">扩展<a href="#扩展" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>扩大被反应式的对象的类型范围，只有<code>Object.isExtensible</code>不通过的对象不被响应化。Float32Array等都允许被响应化。</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#feng3dreactivity"><span>@feng3d/reactivity</span></a><ul><li><a href="#网站"><span>网站</span></a></li><li><a href="#安装"><span>安装</span></a></li><li><a href="#快速开始"><span>快速开始</span></a></li><li><a href="#缘由"><span>缘由</span></a></li><li><ul><li><a href="#问题示例"><span>问题示例</span></a></li><li><a href="#测试代码"><span>测试代码</span></a></li><li><a href="#分析"><span>分析</span></a></li></ul></li><li><a href="#性能情况"><span>性能情况</span></a></li><li><ul><li><a href="#使用不同方式维护子节点"><span>使用不同方式维护子节点</span></a></li></ul></li><li><a href="#为了库的简单易用性不支持以下内容"><span>为了库的简单易用性不支持以下内容</span></a></li><li><a href="#扩展"><span>扩展</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@feng3d/reactivity</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
